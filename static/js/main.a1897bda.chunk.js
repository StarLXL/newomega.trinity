(this["webpackJsonpmy-react-app"]=this["webpackJsonpmy-react-app"]||[]).push([[8],{524:function(e,t,n){e.exports=n(586)},530:function(e,t,n){var a={"./ion-action-sheet-controller_8.entry.js":[591,43],"./ion-action-sheet-ios.entry.js":[592,44],"./ion-action-sheet-md.entry.js":[593,45],"./ion-alert-ios.entry.js":[594,24],"./ion-alert-md.entry.js":[595,25],"./ion-app_8-ios.entry.js":[596,11],"./ion-app_8-md.entry.js":[597,12],"./ion-avatar_3-ios.entry.js":[598,46],"./ion-avatar_3-md.entry.js":[599,47],"./ion-back-button-ios.entry.js":[600,48],"./ion-back-button-md.entry.js":[601,49],"./ion-backdrop-ios.entry.js":[602,81],"./ion-backdrop-md.entry.js":[603,82],"./ion-button_2-ios.entry.js":[604,50],"./ion-button_2-md.entry.js":[605,51],"./ion-card_5-ios.entry.js":[606,52],"./ion-card_5-md.entry.js":[607,53],"./ion-checkbox-ios.entry.js":[608,54],"./ion-checkbox-md.entry.js":[609,55],"./ion-chip-ios.entry.js":[610,56],"./ion-chip-md.entry.js":[611,57],"./ion-col_3.entry.js":[612,83],"./ion-datetime_3-ios.entry.js":[613,20],"./ion-datetime_3-md.entry.js":[614,21],"./ion-fab_3-ios.entry.js":[615,58],"./ion-fab_3-md.entry.js":[616,59],"./ion-img.entry.js":[617,84],"./ion-infinite-scroll_2-ios.entry.js":[618,39],"./ion-infinite-scroll_2-md.entry.js":[619,40],"./ion-input-ios.entry.js":[620,60],"./ion-input-md.entry.js":[621,61],"./ion-item-option_3-ios.entry.js":[622,62],"./ion-item-option_3-md.entry.js":[623,63],"./ion-item_8-ios.entry.js":[624,64],"./ion-item_8-md.entry.js":[625,65],"./ion-loading-ios.entry.js":[626,26],"./ion-loading-md.entry.js":[627,27],"./ion-menu_4-ios.entry.js":[628,18],"./ion-menu_4-md.entry.js":[629,19],"./ion-modal-ios.entry.js":[630,14],"./ion-modal-md.entry.js":[631,15],"./ion-nav_5.entry.js":[632,13],"./ion-popover-ios.entry.js":[633,16],"./ion-popover-md.entry.js":[634,17],"./ion-progress-bar-ios.entry.js":[635,66],"./ion-progress-bar-md.entry.js":[636,67],"./ion-radio_2-ios.entry.js":[637,32],"./ion-radio_2-md.entry.js":[638,33],"./ion-range-ios.entry.js":[639,68],"./ion-range-md.entry.js":[640,69],"./ion-refresher_2-ios.entry.js":[641,41],"./ion-refresher_2-md.entry.js":[642,42],"./ion-reorder_2-ios.entry.js":[643,37],"./ion-reorder_2-md.entry.js":[644,38],"./ion-ripple-effect.entry.js":[645,85],"./ion-route_4.entry.js":[646,70],"./ion-searchbar-ios.entry.js":[647,28],"./ion-searchbar-md.entry.js":[648,29],"./ion-segment_2-ios.entry.js":[649,71],"./ion-segment_2-md.entry.js":[650,72],"./ion-select_3-ios.entry.js":[651,34],"./ion-select_3-md.entry.js":[652,35],"./ion-slide_2-ios.entry.js":[653,86],"./ion-slide_2-md.entry.js":[654,87],"./ion-spinner.entry.js":[655,73],"./ion-split-pane-ios.entry.js":[656,88],"./ion-split-pane-md.entry.js":[657,89],"./ion-tab-bar_2-ios.entry.js":[658,74],"./ion-tab-bar_2-md.entry.js":[659,75],"./ion-tab_2.entry.js":[660,36],"./ion-text.entry.js":[661,76],"./ion-textarea-ios.entry.js":[662,77],"./ion-textarea-md.entry.js":[663,78],"./ion-toast-ios.entry.js":[664,30],"./ion-toast-md.entry.js":[665,31],"./ion-toggle-ios.entry.js":[666,22],"./ion-toggle-md.entry.js":[667,23],"./ion-virtual-scroll.entry.js":[668,90]};function i(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],i=t[0];return n.e(t[1]).then((function(){return n(i)}))}i.keys=function(){return Object.keys(a)},i.id=530,e.exports=i},532:function(e,t,n){var a={"./ion-icon.entry.js":[672,98]};function i(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],i=t[0];return n.e(t[1]).then((function(){return n(i)}))}i.keys=function(){return Object.keys(a)},i.id=532,e.exports=i},537:function(e,t,n){},553:function(e,t,n){},554:function(e,t,n){},555:function(e,t,n){},556:function(e,t,n){},557:function(e,t){},572:function(e,t,n){},573:function(e,t,n){},574:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"attacker","type":"address"},{"indexed":true,"internalType":"address","name":"defender","type":"address"},{"components":[{"internalType":"uint8[]","name":"selectionLhs","type":"uint8[]"},{"internalType":"uint8[]","name":"selectionRhs","type":"uint8[]"},{"internalType":"uint8","name":"commanderLhs","type":"uint8"},{"internalType":"uint8","name":"commanderRhs","type":"uint8"},{"components":[{"internalType":"uint8","name":"moveType","type":"uint8"},{"internalType":"uint8","name":"round","type":"uint8"},{"internalType":"uint8","name":"source","type":"uint8"},{"internalType":"uint8","name":"target","type":"uint8"},{"internalType":"int8","name":"targetPosition","type":"int8"},{"internalType":"uint32","name":"damage","type":"uint32"}],"internalType":"struct Move[]","name":"lhs","type":"tuple[]"},{"components":[{"internalType":"uint8","name":"moveType","type":"uint8"},{"internalType":"uint8","name":"round","type":"uint8"},{"internalType":"uint8","name":"source","type":"uint8"},{"internalType":"uint8","name":"target","type":"uint8"},{"internalType":"int8","name":"targetPosition","type":"int8"},{"internalType":"uint32","name":"damage","type":"uint32"}],"internalType":"struct Move[]","name":"rhs","type":"tuple[]"},{"internalType":"bool","name":"lhsDead","type":"bool"},{"internalType":"bool","name":"rhsDead","type":"bool"},{"internalType":"uint8","name":"rounds","type":"uint8"},{"internalType":"uint256","name":"seed","type":"uint256"}],"indexed":false,"internalType":"struct FightResult","name":"result","type":"tuple"}],"name":"FightComplete","type":"event"},{"inputs":[{"internalType":"uint16","name":"index","type":"uint16"},{"internalType":"uint16","name":"cp","type":"uint16"},{"internalType":"uint16","name":"hp","type":"uint16"},{"internalType":"uint16","name":"attackBase","type":"uint16"},{"internalType":"uint16","name":"attackVariable","type":"uint16"},{"internalType":"uint16","name":"defence","type":"uint16"},{"internalType":"uint16","name":"speed","type":"uint16"},{"internalType":"uint16","name":"range","type":"uint16"},{"internalType":"uint16","name":"agility","type":"uint16"}],"name":"addShip","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"enemy","type":"address"},{"internalType":"uint8[]","name":"selection","type":"uint8[]"},{"internalType":"uint8","name":"commander","type":"uint8"}],"name":"attack","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getAllDefenders","outputs":[{"components":[{"internalType":"address","name":"player","type":"address"},{"internalType":"bool","name":"isInitialised","type":"bool"},{"internalType":"uint8[]","name":"defenceSelection","type":"uint8[]"},{"internalType":"uint8","name":"commander","type":"uint8"},{"internalType":"bytes32","name":"name","type":"bytes32"}],"internalType":"struct PlayerDefence[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getLeaderboard","outputs":[{"components":[{"internalType":"address","name":"player","type":"address"},{"internalType":"bytes32","name":"name","type":"bytes32"},{"internalType":"uint32","name":"wins","type":"uint32"},{"internalType":"uint32","name":"losses","type":"uint32"}],"internalType":"struct LeaderboardEntry[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getOwnDefence","outputs":[{"components":[{"internalType":"address","name":"player","type":"address"},{"internalType":"bool","name":"isInitialised","type":"bool"},{"internalType":"uint8[]","name":"defenceSelection","type":"uint8[]"},{"internalType":"uint8","name":"commander","type":"uint8"},{"internalType":"bytes32","name":"name","type":"bytes32"}],"internalType":"struct PlayerDefence","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getShips","outputs":[{"components":[{"internalType":"uint16","name":"cp","type":"uint16"},{"internalType":"uint16","name":"hp","type":"uint16"},{"components":[{"internalType":"uint16","name":"base","type":"uint16"},{"internalType":"uint16","name":"variable","type":"uint16"}],"internalType":"struct ShipVariableStat","name":"attack","type":"tuple"},{"internalType":"uint16","name":"defence","type":"uint16"},{"internalType":"uint16","name":"speed","type":"uint16"},{"internalType":"uint16","name":"range","type":"uint16"},{"internalType":"uint16","name":"agility","type":"uint16"}],"internalType":"struct Ship[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint8[]","name":"defence","type":"uint8[]"},{"internalType":"uint8","name":"commander","type":"uint8"},{"internalType":"bytes32","name":"name","type":"bytes32"}],"name":"registerDefence","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"seed","type":"uint256"},{"internalType":"uint8[]","name":"selectionLhs","type":"uint8[]"},{"internalType":"uint8[]","name":"selectionRhs","type":"uint8[]"},{"internalType":"uint8","name":"commanderLhs","type":"uint8"},{"internalType":"uint8","name":"commanderRhs","type":"uint8"}],"name":"replay","outputs":[{"components":[{"internalType":"uint8[]","name":"selectionLhs","type":"uint8[]"},{"internalType":"uint8[]","name":"selectionRhs","type":"uint8[]"},{"internalType":"uint8","name":"commanderLhs","type":"uint8"},{"internalType":"uint8","name":"commanderRhs","type":"uint8"},{"components":[{"internalType":"uint8","name":"moveType","type":"uint8"},{"internalType":"uint8","name":"round","type":"uint8"},{"internalType":"uint8","name":"source","type":"uint8"},{"internalType":"uint8","name":"target","type":"uint8"},{"internalType":"int8","name":"targetPosition","type":"int8"},{"internalType":"uint32","name":"damage","type":"uint32"}],"internalType":"struct Move[]","name":"lhs","type":"tuple[]"},{"components":[{"internalType":"uint8","name":"moveType","type":"uint8"},{"internalType":"uint8","name":"round","type":"uint8"},{"internalType":"uint8","name":"source","type":"uint8"},{"internalType":"uint8","name":"target","type":"uint8"},{"internalType":"int8","name":"targetPosition","type":"int8"},{"internalType":"uint32","name":"damage","type":"uint32"}],"internalType":"struct Move[]","name":"rhs","type":"tuple[]"},{"internalType":"bool","name":"lhsDead","type":"bool"},{"internalType":"bool","name":"rhsDead","type":"bool"},{"internalType":"uint8","name":"rounds","type":"uint8"},{"internalType":"uint256","name":"seed","type":"uint256"}],"internalType":"struct FightResult","name":"","type":"tuple"}],"stateMutability":"view","type":"function"}]')},585:function(e,t,n){},586:function(e,t,n){"use strict";n.r(t);var a=n(680),i=n(11),s=n.n(i),r=n(339),o=n.n(r),c=n(83),l=n(166),m=n(506),u=n(17),d=n.n(u),p=n(105),h=n(451),y=n(22),f=n(24),v=n(30),g=n(32),b=(n(537),n(151)),E=(n(460),n(116)),k=n(59),S=n(205),w=n(43),T=(n(447),[{name:"Frigate",asset:"assets/frigate/",description:"Cheap, quick and agile, the frigate can be used as a quick strike weapon, able to reach enemy lines quickest. Can not withstand much heat though.",stats:{cp:1,hp:1e3,attack:{base:30,variable:5},defence:2,speed:6,range:6,agility:25},scale:1,combatScale:.6,visuals:{beamColor:new w.h(0,1,0),beamWidth:Math.PI/256}},{name:"Cruiser",asset:"assets/cruiser/",description:"As lightest of the heavier ships, the cruiser retains some of the speed and maneuverability of the frigate while offering big improvements in the hull and weaponry.",stats:{cp:4,hp:4e3,attack:{base:100,variable:20},defence:12,speed:4,range:8,agility:15},scale:6,combatScale:.4,visuals:{beamColor:new w.h(.2,.2,1),beamWidth:Math.PI/96}},{name:"Destroyer",asset:"assets/destroyer/",description:"The destroyer is an effective killing machine, providing both effective support and serving as an artillery line raining heavy damage on enemy ships.",stats:{cp:5,hp:5e3,attack:{base:130,variable:10},defence:15,speed:3,range:10,agility:10},scale:9,combatScale:.5,visuals:{beamColor:new w.h(1,1,1),beamWidth:Math.PI/96}},{name:"Battleship",asset:"assets/battleship/",description:"Fitted with state of the art weaponry and protection, the battleship is the ultimate fighting force in the galaxy.",stats:{cp:15,hp:1e4,attack:{base:200,variable:5},defence:20,speed:2,range:12,agility:0},scale:12,combatScale:.6,visuals:{beamColor:new w.h(1,0,1),beamWidth:Math.PI/64}}]),j=function(){function e(){Object(y.a)(this,e)}return Object(f.a)(e,[{key:"displayLoadingUI",value:function(){var e=window.document.getElementById("omegaLoadingScreen");e.style.display="block",e.getElementsByClassName("status")[0].classList.add("loadingAssets")}},{key:"hideLoadingUI",value:function(){var e=window.document.getElementById("omegaLoadingScreen");e.style.display="none",e.getElementsByClassName("status")[0].classList.remove("loadingAssets")}}]),e}(),N=(n(553),function(e){return k.a.reduce(e,(function(e,t,n){return e+(t||0)*T[n].stats.cp}),0)}),C=function(e){var t=Object(i.useState)(0),n=Object(E.a)(t,2),a=n[0],r=n[1],o=Object(i.useState)(k.a.clone(e.defaultShips)),c=Object(E.a)(o,2),l=c[0],m=c[1],u=Object(i.useState)(N(e.defaultShips)),d=Object(E.a)(u,2),p=d[0],h=d[1],y=Object(i.useState)(null),f=Object(E.a)(y,2),v=f[0],g=f[1],b=Object(i.useState)([]),C=Object(E.a)(b,2),O=C[0],x=C[1],M=Object(i.useState)(!1),L=Object(E.a)(M,2),B=L[0],D=L[1],_=Object(i.useState)(!1),I=Object(E.a)(_,2),A=I[0],P=I[1],R=function(){e.onDone(l)},F=function(e){return new Promise((function(t,n){var a=[],i=new w.e(e);k.a.each(T,(function(e,t){i.addMeshTask(t,"",T[t].asset,"scene.gltf").onSuccess=function(e){var n,i;a[t]=e.loadedMeshes,n=e.loadedMeshes,i=t,n[0].position=w.w.Zero(),n[0].rotation=new w.w(-Math.PI/12,Math.PI,0),n[0].scalingDeterminant=.001*T[i].scale,n[0].isVisible=!1}})),i.onFinish=function(e){x(a),t(a)},i.load()}))},U=function(e,t,n){var a=n||O;k.a.each(t.meshes,(function(e){e.isVisible=!1})),k.a.each(a[e],(function(e){e.isVisible=!0}))};return s.a.createElement("div",{className:"ShipSelection"},s.a.createElement(S.a,{antialias:!0,adaptToDeviceRatio:!0,canvasId:"ship-selection"},s.a.createElement(S.b,{onSceneMount:function(e){var t=e.canvas,n=e.scene;g(n),n.getEngine().loadingScreen=new j;var i=new w.d("camera1",Math.PI/2,Math.PI/2,9,w.w.Zero(),n);i.minZ=.001,i.lowerRadiusLimit=9,i.upperRadiusLimit=9,n.activeCameras.push(i),i.attachControl(t,!0),new w.k("light1",w.w.Up(),n).intensity=.7;var s=new w.m("background","/assets/images/jeremy-perkins-uhjiu8FjnsQ-unsplash.jpg",n);s.isBackground=!0,s.texture.level=0,s.texture.wAng=.2,F(n).then((function(e){D(!0),U(a,n,e)})),n.onBeforeRenderObservable.add((function(){var e=n.getEngine().getDeltaTime();k.a.each(n.meshes,(function(t){t.rotation.y+=2/60*Math.PI*2*(e/1e3),t.rotation.z+=2/60*Math.PI*2*(e/1e3)}))}))}})),B&&s.a.createElement("div",{className:"ui"},s.a.createElement("div",{className:"uiElement shipName"},T[a].name),s.a.createElement("div",{className:"uiElement sideBox shipStats"},s.a.createElement("div",null,"HP: ",T[a].stats.hp),s.a.createElement("div",null,"Attack: ",T[a].stats.attack.base," - ",T[a].stats.attack.base+T[a].stats.attack.variable),s.a.createElement("div",null,"Defence: ",T[a].stats.defence),s.a.createElement("div",null,"Speed: ",T[a].stats.speed),s.a.createElement("div",null,"Range: ",T[a].stats.range),s.a.createElement("div",null,"Accuracy: ",T[a].stats.accuracy),s.a.createElement("div",null,"Agility: ",T[a].stats.agility)),s.a.createElement("div",{className:"uiElement sideBox shipControls"},s.a.createElement("div",{className:"addOrRemoveShip addShip",onClick:function(){var t=T[a].stats.cp;N(l)+t<=e.maxCp&&(l[a]=(l[a]||0)+1,m(l),h(N(l))),P(!1)}},"+"),s.a.createElement("div",null,"Max CP: ",s.a.createElement("span",{className:"maxCp"},e.maxCp)),s.a.createElement("div",null,"CP Cost: ",T[a].stats.cp),s.a.createElement("div",null,"Used ships: ",l[a]||0),s.a.createElement("div",null,"Used CP: ",p),s.a.createElement("div",{className:"addOrRemoveShip removeShip",onClick:function(){l[a]>0&&(l[a]--,m(l),h(N(l)))}},"-")),s.a.createElement("div",{className:"uiElement shipDescription"},T[a].description),s.a.createElement("div",{className:"uiElement chevron left",onClick:function(){var e=a-1,t=e<0?T.length-1:e;r(t),U(t,v)}}),s.a.createElement("div",{className:"uiElement chevron right",onClick:function(){var e=a+1,t=e>=T.length?0:e;r(t),U(t,v)}}),s.a.createElement("div",{className:"uiElement doneBox bottomBox",onClick:function(){var t=p<e.maxCp;P(t),t||R()}},"DONE"),s.a.createElement("a",{className:"uiElement cancelBox bottomBox",href:"/"},"BACK"),s.a.createElement("div",{className:"omegaTip"},s.a.createElement("div",{className:"title"},"Ship Selection"),s.a.createElement("div",{className:"explanation"},s.a.createElement("div",{className:"tip"},"1. The amount of ships in a fight is determined by the Command Power (CP) of the Defender fleet."),s.a.createElement("div",{className:"tip"},"2. Each ship costs a certain amount of CP."),s.a.createElement("div",{className:"tip"},"3. The Attacker selects a fleet, the total CP of which can not exceed the total CP of the Defender.")))),A&&s.a.createElement("div",{className:"modal"},s.a.createElement("div",{className:"modal-popup"},s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"modal-title"},"You can still add ships to your fleet, Admiral!"),s.a.createElement("div",null,"Tip: Add ships to your fleet with the + button to the right of ship portrait.")),s.a.createElement("div",{className:"modal-buttons"},s.a.createElement("div",{className:"modal-button left",onClick:function(){P(!1)}},"Back"),s.a.createElement("div",{className:"modal-button right",onClick:function(){P(!1),R()}},"Start Anyway")))))},O=0,x=1,M=2,L=3,B={0:"#73ffbe",1:"#2196F3",2:"#7B1FA2",3:"#FFD740"},D=[{name:"XT-101",asset:"assets/robot_5/",description:"Standard issue command robot issued to all Commanders. First and last iteration of its kind, provides slight bonuses to attack and defence.",stats:{attack:{modifier:2,vs:0},defence:{modifier:2,vs:0}},scale:10,visuals:{pickAnimations:["Ball_To_Stand","Idle","Idle_Look_Back","Idle_Look_Side"],positionOffset:new w.w(0,.8,0)},rarity:O},{name:"YT-106",asset:"assets/worker_12/",description:"Military grade command robot, in its sixth iteration. Smarter and more effective than the XT, is also known to be moody and disingenuous.",stats:{attack:{modifier:3,vs:1},defence:{modifier:3,vs:1}},scale:300,visuals:{},rarity:x},{name:"HV-12",asset:"assets/mech_walker/",description:"Since the entire series is classified, not much is known about the origins of this killing machine. It is clearly an assasination model.",stats:{attack:{modifier:4},defence:{modifier:3}},scale:300,visuals:{positionOffset:new w.w(0,-1.2,0),rotation:new w.w(0,0,0)},rarity:M},{name:"Magnus",asset:"assets/trooper/",description:"Cyborgs are the ultimate combination of human intuition and robot processing power. While lacking in empathy, they make for formiddable commanders.",stats:{attack:{modifier:10},defence:{modifier:5}},scale:60,visuals:{positionOffset:new w.w(0,-1.8,0)},rarity:L}],_=(n(554),function(e){var t=Object(i.useState)(0),n=Object(E.a)(t,2),a=n[0],r=n[1],o=Object(i.useState)(null),c=Object(E.a)(o,2),l=c[0],m=c[1],u=Object(i.useState)([]),d=Object(E.a)(u,2),p=d[0],h=d[1],y=Object(i.useState)(!1),f=Object(E.a)(y,2),v=f[0],g=f[1],b=function(e){return new Promise((function(t,n){var a=[],i=new w.e(e);k.a.each(D,(function(e,t){i.addMeshTask(t,"",D[t].asset,"scene.gltf").onSuccess=function(e){var n,i;a[t]=e.loadedMeshes,n=e.loadedMeshes,i=t,n[0].position=D[i].visuals.positionOffset||w.w.Zero(),n[0].rotation=D[i].visuals.rotation||new w.w(0,Math.PI,0),n[0].scalingDeterminant=.001*D[i].scale,n[0].isVisible=!1}})),i.onFinish=function(e){h(a),t(a)},i.load()}))},N=function(e,t,n){var a=n||p;k.a.each(t.meshes,(function(e){e.isVisible=!1})),k.a.each(a[e],(function(e){e.isVisible=!0})),k.a.invoke(k.a.filter(t.animationGroups,(function(t){return k.a.contains(D[e].visuals.pickAnimations,t.name)})),"play",!0)},C=B[D[a].rarity],O={0:"Common",1:"Rare",2:"Epic",3:"Legendary"}[D[a].rarity]||"",x=k.a.has(D[a].stats.attack,"vs")?" vs ".concat(T[D[a].stats.attack.vs].name):"",M="+".concat(D[a].stats.attack.modifier).concat(x),L=k.a.has(D[a].stats.defence,"vs")?" vs ".concat(T[D[a].stats.defence.vs].name):"",_="+".concat(D[a].stats.defence.modifier).concat(L);return s.a.createElement("div",{className:"CommanderSelection"},s.a.createElement(S.a,{antialias:!0,adaptToDeviceRatio:!0,canvasId:"ship-selection"},s.a.createElement(S.b,{onSceneMount:function(e){var t=e.canvas,n=e.scene;m(n),n.getEngine().loadingScreen=new j;var i=new w.d("camera1",Math.PI/2,Math.PI/2,9,w.w.Zero(),n);i.minZ=.001,i.upperAlphaLimit=Math.PI/2,i.lowerAlphaLimit=Math.PI/2,i.upperBetaLimit=Math.PI/2,i.lowerBetaLimit=Math.PI/2,i.lowerRadiusLimit=9,i.upperRadiusLimit=9,n.activeCameras.push(i),i.attachControl(t,!0),new w.k("light1",w.w.Up(),n).intensity=.7;var s=new w.m("background","/assets/images/jeremy-perkins-uhjiu8FjnsQ-unsplash.jpg",n);s.isBackground=!0,s.texture.level=0,s.texture.wAng=.2,b(n).then((function(e){g(!0),N(a,n,e)}))}})),v&&s.a.createElement("div",{className:"ui"},s.a.createElement("div",{className:"uiElement commanderName",style:{color:C}},D[a].name),s.a.createElement("div",{className:"uiElement sideBox commanderStats"},s.a.createElement("div",null,"Rarity: ",s.a.createElement("span",{style:{color:C}},O)),s.a.createElement("div",null,"Level: 1"),s.a.createElement("div",null,"Experience: 0/1000")),s.a.createElement("div",{className:"uiElement sideBox commanderControls"},s.a.createElement("div",null,"Attack:",s.a.createElement("div",null,M)),s.a.createElement("div",null,"Defence:",s.a.createElement("div",null,_))),s.a.createElement("div",{className:"uiElement commanderDescription"},D[a].description),s.a.createElement("div",{className:"uiElement chevron left",onClick:function(){var e=a-1,t=e<0?D.length-1:e;r(t),N(t,l)}}),s.a.createElement("div",{className:"uiElement chevron right",onClick:function(){var e=a+1,t=e>=D.length?0:e;r(t),N(t,l)}}),s.a.createElement("div",{className:"uiElement doneBox bottomBox",onClick:function(){e.onDone(a)}},"DONE"),s.a.createElement("a",{className:"uiElement cancelBox bottomBox",href:"/"},"BACK"),s.a.createElement("div",{className:"omegaTip"},s.a.createElement("div",{className:"title"},"Commander Selection"),s.a.createElement("div",{className:"explanation"},s.a.createElement("div",{className:"tip"},"1. Each fleet in a fight is led by a Commander."),s.a.createElement("div",{className:"tip"},"2. Commanders have different stats, skills, and rarity levels."),s.a.createElement("div",{className:"tip"},"3. By winning in Ranked Combat, Commanders increase their experience and effectiveness.")))))}),I=(n(555),function(e){var t=Object(i.useState)(0),n=Object(E.a)(t,2),a=n[0],r=n[1],o=Object(i.useState)(!1),c=Object(E.a)(o,2),l=c[0],m=c[1],u=Object(i.useState)(""),d=Object(E.a)(u,2),p=d[0],h=d[1],y=Object(i.useState)(!1),f=Object(E.a)(y,2),v=f[0],g=f[1],b=[],N=[],C=function(e,t,n,a,i,s,r){t[0].position=new w.w(a+n*s,0,.2*-n),t[0].rotation=new w.w(2*Math.PI,Math.PI/2*s,Math.PI/2*-s),t[0].scalingDeterminant=13e-5*T[n].scale,k.a.each(t,(function(t){t.material=new w.v(k.a.uniqueId(),e),t.material.diffuseColor=r?new w.h(0,1,0):new w.h(1,1,0)})),r?b[n]=[t[0]]:N[n]=[t[0]];for(var o=0;o<i-1;o++){var c=t[0].clone();o%2===0?c.position.y-=(Math.floor(o/2)+1)*T[n].combatScale:c.position.y+=(Math.floor(o/2)+1)*T[n].combatScale,r?b[n].push(c):N[n].push(c)}},O="",x=function(e,t,n){var a=n?b:N,i=n?N:b;k.a.each(a[t.source],(function(n,a){if(i[t.target]&&i[t.target].length){var s=a%i[t.target].length,r=i[t.target][s];!function(e,t,n,a){var i=new w.v("laserMat",e);i.alpha=.8,i.diffuseColor=T[t].visuals.beamColor,i.backFaceCulling=!1;var s=w.n.CreateTube("laser",[n.position,a.position],T[t].visuals.beamWidth,64,null,0,e,!1,w.n.FRONTSIDE);s.material=i,s.convertToFlatShadedMesh(),setTimeout((function(){s.dispose()}),500)}(e,t.source,n,r)}}))},M=function(e,t,n,a,i){var s=function s(r,o){var c,l=t[r];if(!l)return o();2===l.moveType?c=function(e,t,n){var a=n?b[t.source]:N[t.source];return Promise.all(k.a.map(a,(function(a){return new Promise((function(i){var s=new w.c(k.a.uniqueId(),"position.x",10,w.c.ANIMATIONTYPE_FLOAT,w.c.ANIMATIONLOOPMODE_CONSTANT),r=n?-1:1,o=[{frame:0,value:a.position.x},{frame:10,value:a.position.x+Math.abs(t.targetPosition-a.position.x)*r},{frame:20,value:t.targetPosition}];s.setKeys(o),a.animations=[s],e.beginAnimation(a,0,20,!1,2,i)}))})))}(e,l,n):1===l.moveType&&(c=new Promise((function(t,s){x(e,l,n),(n?i:a)[l.target]-=l.damage,function(e,t,n,a,i){for(var s=T[t].stats.hp,r=n?i[t]:a[t],o=Math.max(Math.ceil(r/s),0),c=n?N[t]:b[t],l=c.length-o,m=function(t){var n=c.shift();w.p.CreateAsync("explosion",e).then((function(e){e.systems.forEach((function(e){e.worldOffset=n.position,e.disposeOnStop=!0,e.maxSize=.01,e.minSize=.001})),e.systems=[e.systems[0]],e.start()})),n.dispose()},u=0;u<l;u++)m()}(e,l.target,n,a,i),function(e,t){var n="".concat(t?"[Attacker]":"[Defender]"," ").concat(T[e.source].name," hits ").concat(T[e.target].name," for ").concat(e.damage," damage.");h(O=n+"\n"+O)}(l,n),setTimeout(t,500)}))),c.then((function(){r+1<t.length?s(r+1,o):o()}))};return new Promise((function(e,t){s(0,e)}))},L=function t(n,a,i,s){if(a>=e.result.rounds)m(!0);else{r(a),function(e){var t="Round ".concat(e+1," begins.\n\n");h(O=t+O)}(a);var o=k.a.filter(e.result.lhs,(function(e){return e.round===a&&0!==e.moveType})),c=k.a.filter(e.result.rhs,(function(e){return e.round===a&&0!==e.moveType}));M(n,o,!0,i,s).then((function(){M(n,c,!1,i,s).then((function(){t(n,a+1,i,s)}))}))}},B=D[e.commanderLhs].asset+"thumb.png",_=D[e.commanderRhs].asset+"thumb.png";return s.a.createElement("div",{className:"Combat"},s.a.createElement(S.a,{antialias:!0,adaptToDeviceRatio:!0,canvasId:"combat"},s.a.createElement(S.b,{onSceneMount:function(t){var n=t.canvas,a=t.scene;a.getEngine().loadingScreen=new j;var i=new w.d("camera1",Math.PI/2,Math.PI/2+Math.PI/4,18.5,w.w.Zero(),a);i.minZ=.001,i.lowerRadiusLimit=18.5,i.upperRadiusLimit=18.5,a.activeCameras.push(i),i.attachControl(n,!0),new w.k("light1",new w.w(0,0,1),a).intensity=.7;var s=new w.m("background","/assets/images/jeremy-perkins-uhjiu8FjnsQ-unsplash.jpg",a);s.isBackground=!0,s.texture.level=0,s.texture.wAng=.2,function(t){return new Promise((function(n,a){var i=new w.e(t);k.a.each(e.selectionLhs,(function(e,n){e>0&&(b[n]=[],i.addMeshTask(n,"",T[n].asset,T[n].sceneFile||"scene.gltf").onSuccess=function(a){C(t,a.loadedMeshes,n,10,e,1,!0)})})),k.a.each(e.selectionRhs,(function(e,n){e>0&&(N[n]=[],i.addMeshTask(n,"",T[n].asset,"scene.gltf").onSuccess=function(a){C(t,a.loadedMeshes,n,-10,e,-1,!1)})})),i.onFinish=function(e){n()},i.load()}))}(a).then((function(){g(!0),function(t){var n=k.a.map(e.selectionLhs,(function(e,t){return T[t].stats.hp*e})),a=k.a.map(e.selectionRhs,(function(e,t){return T[t].stats.hp*e}));L(t,0,n,a)}(a)}))}})),v&&s.a.createElement("div",{className:"ui"},s.a.createElement("div",{className:"uiElement commander lhs"},s.a.createElement("img",{alt:"Commander",src:B})),s.a.createElement("div",{className:"uiElement commander rhs"},s.a.createElement("img",{alt:"Commander",src:_})),s.a.createElement("div",{className:"uiElement currentRound"},"Round ",a+1),s.a.createElement("div",{className:"uiElement combatLog"},s.a.createElement("pre",null,p)),s.a.createElement("div",{className:"uiElement doneBox bottomBox",onClick:function(){m(!0)}},"FINISH"),s.a.createElement("div",{className:"miniLogoBox"}),l&&s.a.createElement("div",{className:"result"},s.a.createElement("div",{className:"resultDialog"},s.a.createElement("div",{className:"winner"},e.result.lhsDead?"Defender Wins":e.result.rhsDead?"Attacker Wins":"Draw"),s.a.createElement("a",{className:"exitButton",href:"/"},"EXIT")))))}),A=(n(556),function(e){var t=k.a.clone(e.opponents).reverse();return s.a.createElement("div",{className:"OpponentSelection"},s.a.createElement("div",{className:"ui"},s.a.createElement("div",{className:"mainTitle"}),s.a.createElement("div",{className:"mainMenu"},k.a.map(t,(function(t,n){return s.a.createElement("div",{key:n,className:"mainMenuItem",onClick:function(){!function(t){e.onDone(t)}(t)}},b.a.utils.parseBytes32String(t.name))}))),s.a.createElement("a",{className:"uiElement cancelBox bottomBox",href:"/"},"BACK")))}),P=(n(572),function(e){var t=k.a.clone(e.leaderboard);return t.sort((function(e,t){return t.wins.toNumber()-e.wins.toNumber()})),s.a.createElement("div",{className:"Leaderboard"},s.a.createElement("div",{className:"ui"},s.a.createElement("div",{className:"mainTitle"}),s.a.createElement("div",{className:"mainMenu"},k.a.map(t,(function(e,t){return s.a.createElement("div",{key:t,className:"mainMenuItem"},s.a.createElement("div",{className:"name"},b.a.utils.parseBytes32String(e.name)),s.a.createElement("div",{className:"address"},"Address: ",e.player),s.a.createElement("div",{className:"wins"},"Wins: ",e.wins),s.a.createElement("div",{className:"losses"},"Losses: ",e.losses))}))),s.a.createElement("a",{className:"uiElement cancelBox bottomBox",href:"/"},"BACK")))}),R=(n(573),function(e){var t=function(t){var n=k.a.findWhere(e.opponents,{player:t});return n?b.a.utils.parseBytes32String(n.name):"Anonymous"},n=k.a.clone(e.logs).reverse();return s.a.createElement("div",{className:"ShowLogs"},s.a.createElement("div",{className:"ui"},s.a.createElement("div",{className:"mainTitle"}),s.a.createElement("div",{className:"mainMenu"},k.a.map(n,(function(n,a){return s.a.createElement("div",{key:a,className:"mainMenuItem",onClick:function(){!function(t){e.onDone(t)}(n)}},s.a.createElement("span",{className:"address"},t(n.args[0])),s.a.createElement("span",{className:"vs"}," VS "),s.a.createElement("span",{className:"address"},t(n.args[1])))}))),s.a.createElement("a",{className:"uiElement cancelBox bottomBox",href:"/"},"BACK")))}),F=n(102),U=n(78),W=function(e){Object(v.a)(n,e);var t=Object(g.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"estimateGas",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.a)(Object(U.a)(n.prototype),"estimateGas",this).call(this,t);case 2:return a=e.sent,e.abrupt("return",a.add(2e4));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(b.a.providers.Web3Provider),V=0,K=1,Z=2,G=3,H=4,q=5,X=6,Y=7,z=[25,18,16,6],J=function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).defaultLoadedState={mode:V,loading:!1,trainingSelfSelection:null,trainingResult:null,trainingSelfCommander:null,trainingOpponent:null,trainingOpponentSelection:null,trainingOpponentCommander:null,trainingCp:null,defenders:null,settingDefence:!1,settingAttack:!1},n.defaultUnloadedState={ownAccount:null,web3Loaded:!1,ethBalance:0,blockNumber:0,newOmegaContract:null,hasUnseenFights:!1,playerName:window.localStorage.getItem("OmegaPlayerName")||"Anonymous"},n.state=Object(h.a)(Object(h.a)({},n.defaultLoadedState),n.defaultUnloadedState),n}return Object(f.a)(a,[{key:"shipSelectionDone",value:function(e){this.setState({mode:Z,trainingSelfSelection:e})}},{key:"commanderSelectionDone",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a,i,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),!this.state.settingDefence){e.next=14;break}return e.prev=2,e.next=5,this.state.newOmegaContract.registerDefence(this.state.trainingSelfSelection,t,b.a.utils.formatBytes32String(this.state.playerName));case 5:return n=e.sent,e.next=8,n.wait();case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:e.next=38;break;case 14:if(!this.state.settingAttack){e.next=27;break}return e.prev=15,e.next=18,this.state.newOmegaContract.attack(this.state.trainingOpponent,this.state.trainingSelfSelection,t);case 18:return a=e.sent,e.next=21,a.wait();case 21:e.next=25;break;case 23:e.prev=23,e.t1=e.catch(15);case 25:e.next=38;break;case 27:return i=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),e.prev=28,e.next=31,this.state.newOmegaContract.replay(i,this.state.trainingSelfSelection,this.state.trainingOpponentSelection,t,this.state.trainingOpponentCommander);case 31:s=e.sent,e.next=37;break;case 34:return e.prev=34,e.t2=e.catch(28),e.abrupt("return",this.setState(this.defaultLoadedState));case 37:return e.abrupt("return",this.setState({mode:H,trainingSelfCommander:t,trainingResult:s}));case 38:this.setState(this.defaultLoadedState);case 39:case"end":return e.stop()}}),e,this,[[2,10],[15,23],[28,34]])})));return function(t){return e.apply(this,arguments)}}()},{key:"commanderPreviewDone",value:function(){this.setState(this.defaultLoadedState)}},{key:"opponentSelectionDone",value:function(e){var t=e.defenceSelection;this.setState({mode:K,settingAttack:!0,trainingOpponent:e.player,trainingOpponentSelection:t,trainingOpponentCommander:e.commander,trainingCp:this._selectionToCp(t)})}},{key:"_selectionToCp",value:function(e){return k.a.reduce(e,(function(e,t,n){return e+(t||0)*T[n].stats.cp}),0)}},{key:"handlePlayerNameChange",value:function(e){window.localStorage.setItem("OmegaPlayerName",e.target.value),this.setState({playerName:e.target.value})}},{key:"training",value:function(){var e=z;this.setState({mode:K,trainingOpponentSelection:e,trainingOpponentCommander:0,trainingCp:this._selectionToCp(e)})}},{key:"commanders",value:function(){this.setState({mode:G})}},{key:"defend",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.prev=1,e.next=4,this.state.newOmegaContract.getOwnDefence();case 4:t=e.sent,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",this.setState(this.defaultLoadedState));case 10:n=t&&t.isInitialised?t.defenceSelection:z,this.setState({mode:K,settingDefence:!0,trainingOpponentSelection:n,trainingCp:this._selectionToCp(n),loading:!1});case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"attachBlockchainEvents",value:function(e,t,n){var a=this,i=t.filters.FightComplete();i.attacker=n,e.on(i,(function(){a.setState({hasUnseenFights:!0})})),e.on("block",(function(t){a._checkBalance(e,n),a.setState({blockNumber:t})}))}},{key:"showLogs",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,n,a,i,s,r,o,c=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.state.newOmegaContract.filters.FightComplete()).fromBlock=this.state.provider.getBlockNumber().then((function(e){return e-1e5})),t.toBlock="latest",t.attacker=this.state.ownAccount,n=this.state.newOmegaContract.filters.FightComplete(),t.fromBlock=this.state.provider.getBlockNumber().then((function(e){return e-1e5})),t.toBlock="latest",t.defender=this.state.ownAccount,this.setState({loading:!0}),e.prev=9,e.next=12,this.state.provider.getLogs(t);case 12:return a=e.sent,e.next=15,this.state.provider.getLogs(n);case 15:i=e.sent,e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(9),e.abrupt("return",this.setState(this.defaultLoadedState));case 21:return s=a.concat(i),r=k.a.map(s,(function(e){return c.state.newOmegaContract.interface.parseLog(e)})),e.prev=23,e.next=26,this.state.newOmegaContract.getAllDefenders();case 26:o=e.sent,e.next=32;break;case 29:return e.prev=29,e.t1=e.catch(23),e.abrupt("return",this.setState(this.defaultLoadedState));case 32:this.setState({mode:X,logs:r,loading:!1,hasUnseenFights:!1,defenders:o});case 33:case"end":return e.stop()}}),e,this,[[9,18],[23,29]])})));return function(){return e.apply(this,arguments)}}()},{key:"logSelectionDone",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a,i,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.args[2],this.setState({loading:!0}),e.prev=2,e.next=5,this.state.newOmegaContract.replay(n.seed,n.selectionLhs,n.selectionRhs,n.commanderLhs,n.commanderRhs);case 5:a=e.sent,e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",this.setState(this.defaultLoadedState));case 11:i=function(e){return k.a.map(e,(function(e){return e.toNumber()}))},s={lhs:a.lhs,rhs:a.rhs,lhsHp:i(a.lhsHp),rhsHp:i(a.rhsHp),rounds:a.rounds,selectionLhs:a.selectionLhs,selectionRhs:a.selectionRhs,commanderLhs:a.commanderLhs,commanderRhs:a.commanderRhs,lhsDead:a.lhsDead,rhsDead:a.rhsDead},this.setState({mode:H,trainingSelfSelection:s.selectionLhs,trainingSelfCommander:s.commanderLhs,trainingOpponentSelection:s.selectionRhs,trainingResult:s,loading:!1});case 14:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"attack",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.prev=1,e.next=4,this.state.newOmegaContract.getAllDefenders();case 4:t=e.sent,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",this.setState(this.defaultLoadedState));case 10:this.setState({mode:q,defenders:t,loading:!1});case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"leaderboard",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.prev=1,e.next=4,this.state.newOmegaContract.getLeaderboard();case 4:t=e.sent,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",this.setState(this.defaultLoadedState));case 10:this.setState({mode:Y,leaderboard:t,loading:!1});case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e="mainMenuItem ".concat(this.state.hasUnseenFights?"unread":""),t=this._formatBalance(b.a.utils.formatEther(this.state.ethBalance));return s.a.createElement("div",{className:"App"},this.state.mode===V&&s.a.createElement("div",{className:"mainScreen ui"},s.a.createElement("div",{className:"mainTitle"}),s.a.createElement("div",{className:"playerName"},s.a.createElement("input",{autoCorrect:"off",type:"text",className:"playerNameInput",value:this.state.playerName,onChange:this.handlePlayerNameChange.bind(this)})),s.a.createElement("div",{className:"mainMenu"},s.a.createElement("div",{className:"mainMenuItem",onClick:this.training.bind(this)},"TRAINING"),s.a.createElement("div",{className:"mainMenuItem",onClick:this.commanders.bind(this)},"ACADEMY"),s.a.createElement("div",{className:e,onClick:this.showLogs.bind(this)},"LOGS"),s.a.createElement("div",{className:"mainMenuItem",onClick:this.defend.bind(this)},"DEFENCE"),s.a.createElement("div",{className:"mainMenuItem",onClick:this.attack.bind(this)},"ATTACK"),s.a.createElement("div",{className:"mainMenuItem",onClick:this.leaderboard.bind(this)},"RANKING")),s.a.createElement("div",{className:"versionBox uiElement bottomElement"},"Version: 0.0.1 (c) celrisen.eth"),s.a.createElement("div",{className:"ethBalance uiElement bottomElement"},"\u039e",t," Block: ",this.state.blockNumber)),this.state.mode===K&&s.a.createElement(C,{maxCp:this.state.trainingCp,defaultShips:this.state.trainingOpponentSelection,onDone:this.shipSelectionDone.bind(this)}),this.state.mode===Z&&s.a.createElement(_,{onDone:this.commanderSelectionDone.bind(this)}),this.state.mode===G&&s.a.createElement(_,{onDone:this.commanderPreviewDone.bind(this)}),this.state.mode===H&&s.a.createElement(I,{selectionLhs:this.state.trainingSelfSelection,selectionRhs:this.state.trainingOpponentSelection,commanderLhs:this.state.trainingSelfCommander,commanderRhs:0,result:this.state.trainingResult}),this.state.mode===q&&s.a.createElement(A,{opponents:this.state.defenders,onDone:this.opponentSelectionDone.bind(this)}),this.state.mode===X&&s.a.createElement(R,{logs:this.state.logs,opponents:this.state.defenders,onDone:this.logSelectionDone.bind(this)}),this.state.mode===Y&&s.a.createElement(P,{leaderboard:this.state.leaderboard}),s.a.createElement("div",{id:"omegaLoadingScreen",style:this.state.web3Loaded&&!this.state.loading?{display:"none"}:{}},s.a.createElement("div",{className:"logo"}),s.a.createElement("div",{className:"progressOuter progress-line"}),s.a.createElement("div",{className:"status"},s.a.createElement("span",{className:"blockchain"},"Waiting for blockchain..."),s.a.createElement("span",{className:"assets"},"Loading assets..."))))}},{key:"componentDidMount",value:function(){this._initWeb3()}},{key:"_formatBalance",value:function(e){return parseFloat(e,10).toFixed(4).toString()}},{key:"_initWeb3",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,n,a,i,s=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new W(window.ethereum),n=t.getSigner(),e.next=4,window.ethereum.send("eth_requestAccounts");case 4:return a=e.sent,i=a.result[0],e.next=8,this._checkBalance(t,i);case 8:this.setState({provider:t,ownAccount:i,signer:n},(function(){s._loadContracts(t,n,i)}));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_checkBalance",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getBalance(n);case 2:a=e.sent,this.setState({ethBalance:a});case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_loadContracts",value:function(e,t,a){var i=n(574),s=new b.a.Contract("0x74691ecA89eb9b842932ddEB9111c3CE21F9D6Be",i,t);this.attachBlockchainEvents(e,s,a),this.setState({newOmegaContract:s,web3Loaded:!0})}}]),a}(i.Component),Q=(n(575),n(576),n(577),n(578),n(579),n(580),n(581),n(582),n(583),n(584),n(585),function(){return document.addEventListener("deviceready",(function(){titleBarManager.setVisibility(1,1),appManager.setVisible("show"),window.screen.orientation.lock("landscape")}),!1),s.a.createElement(l.b,null,s.a.createElement(m.a,null,s.a.createElement(l.d,null,s.a.createElement(c.b,{path:"/",component:J,exact:!0}))))});a.a({dsn:"https://adf39eeb31a04f4c9e2ae1613a647396@o509705.ingest.sentry.io/5604612",debug:!0,autoSessionTracking:!0,tracesSampleRate:1}),o.a.render(s.a.createElement(Q,null),document.getElementById("root"))}},[[524,9,10]]]);
//# sourceMappingURL=main.a1897bda.chunk.js.map